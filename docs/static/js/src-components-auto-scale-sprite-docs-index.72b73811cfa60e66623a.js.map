{"version":3,"sources":["webpack:///./src/components/AutoScaleSprite/docs/index.js","webpack:///./src/components/AutoScaleSprite/docs/index.mdx","webpack:///./src/components/AutoScaleSprite/index.js"],"names":["__webpack_exports__","textures","PIXI","Texture","fromImage","MDXContent","props","_this","_classCallCheck","this","_possibleConstructorReturn","_getPrototypeOf","call","layout","React","Component","_this$props","components","_objectWithoutProperties","react__WEBPACK_IMPORTED_MODULE_0___default","a","createElement","_mdx_js_tag__WEBPACK_IMPORTED_MODULE_1__","name","id","docz__WEBPACK_IMPORTED_MODULE_2__","__codesandbox","__position","__code","__scope","Stage","Sprite","AutoScaleSprite","docs","_inlet_react_pixi__WEBPACK_IMPORTED_MODULE_3__","width","height","___WEBPACK_IMPORTED_MODULE_5__","texture","x","y","state","visible","PureComponent","checkTexture","prevProps","prevState","onTextureScale","_this2","baseTexture","hasLoaded","setTextureScale","on","newState","maxHeight","maxWidth","Math","min","calculatedDimensions","realWidth","realHeight","setState","_objectSpread","_inlet_react_pixi__WEBPACK_IMPORTED_MODULE_1__","Object","assign"],"mappings":"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","file":"static/js/src-components-auto-scale-sprite-docs-index.cba2c337.js","sourcesContent":["export default {\n  textures: [\n    PIXI.Texture.fromImage('https://s3-us-west-2.amazonaws.com/s.cdpn.io/693612/IaUrttj.png'),\n  ],\n};\n","\n  import React from 'react'\n  import { MDXTag } from '@mdx-js/tag'\n  import { Playground, PropsTable } from 'docz'\nimport { Stage, Sprite } from '@inlet/react-pixi'\nimport * as PIXI from 'pixi.js'\nimport AutoScaleSprite from './../'\nimport docs from './'\n\nconst layoutProps = {\n  \n};\nexport default class MDXContent extends React.Component {\n  constructor(props) {\n    super(props)\n    this.layout = null\n  }\n  render() {\n    const { components, ...props } = this.props\n\n    return <MDXTag\n             name=\"wrapper\"\n             \n             components={components}>\n<MDXTag name=\"h1\" components={components} props={{\"id\":\"autoscalesprite\"}}>{`AutoScaleSprite`}</MDXTag>\n<Playground __codesandbox={`N4IgZglgNgpgziAXKCA7AJjAHgOgBYAuAtlEqAMYD2qBMNSIAPOhAG4AEE6AvADogAnSpQL8AfIwD0LVmJABfADQg0mXACsEyEFRp0CDSQCojvVO3YAVPBDjsAwpUwBlAIYYARpSzs8rux4wdOyuAK4ElESuBBDkrlBQAJ7sAOZ0MALRMOjsoXBoKWYWAAZUmHDu6F5YGcU47ACSYOyJlKEA5AIw7OShAhBtdniUAO7sBH4Evq4ADjPp6IotbT3uRT14MOQA1uxtU20C7OiU5EMZMIi-BAQzcIiSkikQE6EeOFREkqiUrGiJkjK8Eq1QyZnWTWWoXY2Hm_To5G67mScAIAlCKRSsDsIxeeHGNjsFU83iWM1g_m6mVsSPMtjgoRg62oqTxb3qiAAlGYjJIzBAiDNKAIpgAlGCuchTMBCIjsToSqXtADc_MFwrFioIABEAPIAWXYMsi8q6koIAFoTkQVWqhSKHJEhah9EbZfKcJJsK5BbBbagzOLzXr9TguhgMgAKdbMNhidYWRh4ADMYkc6pdNE46pF2XYuImPScwJJNQEiCkKfj5gs7EYMzEkYaUyiyRdedc6BYMWo8XYMyEd3GlFSMCmL3Y4cw_VQKXzMASnKkDYTdfTztdkmriekccUZhOvSI-hwaQIAFFYMeaAAhRINdCRzrCAjtbmoTnKhTKb2-mA4TQyB0ahaHoRAVBzKZgHYZwCFcNIlmcAcXm6eQ3RNdoAAE0FgAhJDNKULRmCAsAgf0BXtKYjBCOwAAUGgADQadC5XaYjSIAuByMg9gAEFwkoZw4lgJD-loFiPUkOABHIQEnWofQ4EkfiIiE-IYFElDuMo45TjsY1WM9aTZM-DcaCUlTBOEjTkNoaQ9O0jV2CDKUJIVc12jtJzoM0Hw0IM-VMJgIgRAGVA5K6TyA1QXRUV08gAC9YMSbF2G4dhgHWKIBGeVArnaAAGdhkxmLB2n3GsZk7FhZ3ygAWUr2AANlK8r1jAECADEfWgRJ8v4ZxDkRR1MHYWihH4JYQp-OAqsRNqaw6mhnAgBLLnYABGOqKvkcEYuoOLeLmNL2EjaDyBsKB0HDdh5E5NKxFOmMZHYVEUpgbhgEPJKCHeuB5G3WtgAu6BruCAAycHxkSeZKGaEGrpu7hkflMBQhintUHadgAH4NlB8NI3uq4EbB1BdprKQZGrd8zFhJzMDAMIoCmImHqeymjpXGtExcggcE6zIUmvAhAdrOtYPg7pcXQCZPoAVgKgq0M2CAUkIBWlYB1dxcYSy1JE2zpa4OXgEVtDaCwAg-g-r69JwS3ra6OAAG0CoAXTQrcddrPWBINmyxON2W8E-jatfGbAndtw84AdqObddj2vbF8W6316zNPEmXTYAJgjx2bc-2P46txO3c99hvZ5tO_dUzOjfzE3Q-AOqC4Trpi_twvnYrlOfcTLPuiwT66vNlpR_HnuY-7jv4D7qvU53SW0lTqQ-YFoWRcBqQuZpsxvxAYy5IzRTlP9hug8kVRsE4oDdFAgxwOMVIoEoDw-3opj2F5PaKKcvmbkCKvlVKgf-DpoJD1um5bCqBcL4S1EREiZFQFmHIFAfwdgM7qSgVHOg6A7Ab1ojbdcCksyZRrKiLIJ0KHiz-PkDwsArhMygHAGAFVxaq3VgQK4BUOG1hzngXh_CKbrFMmQggAB1aAUB9RtBoGzWhtYJi2A-JsHYlg55E1ARYURNZxGZh1FwAAqjMdAWRIwDhgKwcalA7hki6KwSWtB7pKIsBAZokYACEVinFwVoDgehEBGHdEhgSVRVCAlBJCa4n2HjTq_Vhs0FRccBx2LjtQTRZcugBzSijdoaMMZhTfBlAe4TUmDgyagLJ0cA7aJ9hTcWjTbp7QsBdLY2wak20UauWKUFI7ZNQidFJOA0l3FQTXeJkZp44A_mwrpXR8D-AADKUE7NkWJNcLAjLYQQBZGlrL1JrmhBcbDSlbIGdHWZlJ9k4GoE-N-nZyqnXutwR60Edljn2XU-6d0dFpxmXMmAtz7ntFCGYrIzy2ZvIyuUnAuzvmHN-Z-VczS9EWARXPH55zxZ9NhdPJYXDCBLEEVNVwWAAASMA1bEvYFELA0iQ7QPSiMsZcAJni1wuwF0IxnEwA5bWKZiSYBw18NS7h7AvH5PRozNA2RsZhOFaKwRkrpURkgC6dAJS3G1h5XymhZSiU8PYPqaIeAcBEDQJGSM9KqU0qmHjW14rCDsCuEazkhLnUEA9WUwRVxTUTAtVam15LGWFkdaG5urqm4hw9TGiYPqLnNN0TCVh3QdXuM8Uq5oRrVXpTBequVWrNlp1rFy4SvQMG0HQNqAUdB8gHQNRczhXr-GlosH6y5NtrnzLnmGCUUAw34mopGXNkgu2LKBbcs0UA7XcMTe226ArS1CphiK5o9Kh15vlDKmAGr5XsDCRW0IVbsi1uvA21AccVWPU3c3Eti7VhQErVkGtdar1hWvVG9Kd6Q7_MXce09b6L2fvwF64Zfap19pnXOl1I7f2FnHYCm50GB1DpRc2lp0VF16v8d0dKgHX3nvrZ-_9tZmlxKzWu5VUapX5t3fu4tOL23lviC-6txGP2NvShmtOpKykWCNVcZDvbBn9viLBqip0VVIcgyhsTM70NtrTui9tq6kl0vJZJ7dBbZWaoVVDQjHH32Xrjrm29WmvUPoA2xk9RGTOgdzT-yz9qyOlqM2ehzB0cAqpZXJ0TVzFNRvgy5iVsmxNQYUwOyTGHF2qdLbh6hBHbNAc46ZtzWGmmtOUYSeFY4-VnR9jgYriXaDKYsNEph4x0TsNRbFrD6wpxRms0WK9_Tp7MrhWy5dk4xx9HMNGC5jAh5lOAMVh2uW2XJoBXPT609pstvtXN3LkT_xGoWwI5uy2Il4Z883DbFXbDBNgNtuOq3AlHZCRt6u4t6sUz0fTB0jNmZTGwYbIOoDD7HwMWfN7gcUL2TONfCMGgtAUBAvoBgj2pjPZPVBdY097jsBdquL-DQcC3IMg0KIaQnyEFuPcR4cBkwWjyBaEY8BLS5xwD6VwCVewjDjp8KSHx0AzFQDgAYkgmoAE5kxNQ2rnSQDRXDGJFAQdQozZxvn4e7Han2lAgDmtsKWnFqD3wh2BEASj-CoB9EyJA7B-BAmJFUbwGQLS_nJAb_h_BWAZEvfwK4_ACo4FdwVSa6x-DlHIP0GYmMndG5ALxV6FFYAwiwD6a3xwYDkkoIkPMeQCi9fNBaE3IJzcCE9zWfgUQ0CB_4DfUH2eLDe9j_ghEEB4CB51fwWB8DgFINIgXkAAA9V38scB1RL7WfgwCW-t42k1HAAAOLvPfS9K-QZxAfdUcAAHYcAbQn0Hxv1oB9D9H-PkA6x7tfYz7gXQkAUhq9QBrvQWvMogFoL6LITvjdmloBaRvswZj8HkAoeQ8ggA`} __position={0} __code={'<Stage width={500} height={500}>\\n  <AutoScaleSprite width={50} texture={docs.textures[0]} />\\n  <AutoScaleSprite width={100} texture={docs.textures[0]} />\\n  <AutoScaleSprite width={200} texture={docs.textures[0]} />\\n  <AutoScaleSprite width={400} texture={docs.textures[0]} />\\n  <Sprite x={450} y={450} texture={docs.textures[0]} />\\n</Stage>'} __scope={{props: this ? this.props : props,Stage,Sprite,PIXI,AutoScaleSprite,docs}}>\n  <Stage width={500} height={500}>\n    <AutoScaleSprite\n      width={50}\n      texture={docs.textures[0]}\n    />\n    <AutoScaleSprite\n      width={100}\n      texture={docs.textures[0]}\n    />\n    <AutoScaleSprite\n      width={200}\n      texture={docs.textures[0]}\n    />\n    <AutoScaleSprite\n      width={400}\n      texture={docs.textures[0]}\n    />\n    <Sprite\n      x={450}\n      y={450}\n      texture={docs.textures[0]}\n    />\n  </Stage>\n</Playground>\n           </MDXTag>\n  }\n}\n  ","/* global PIXI */\n\nimport React from 'react';\nimport { Sprite } from '@inlet/react-pixi';\n\nclass AutoScaleSprite extends React.PureComponent {\n  state = {\n    visible: false,\n    height: 0,\n    width: 0,\n  }\n\n  componentWillMount() {\n    this.checkTexture();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (!prevState.visible && this.state.visible) {\n      if (typeof this.props.onTextureScale === 'function') {\n        this.props.onTextureScale();\n      }\n    }\n  }\n\n  checkTexture() {\n    const { texture } = this.props;\n\n    if (texture.baseTexture.hasLoaded) {\n      this.setTextureScale();\n    } else {\n      texture.baseTexture.on('load', () => { this.setTextureScale() });\n      texture.baseTexture.on('update', () => { this.setTextureScale() });\n    }\n  }\n\n  setTextureScale() {\n    const { texture, height, width, maxHeight, maxWidth } = this.props;\n\n    let newState;\n\n    if (typeof height !== 'undefined' && typeof width !== 'undefined') {\n      newState = {\n        height: Math.min((maxHeight ? maxHeight : height), height),\n        width: Math.min((maxWidth ? maxWidth : width), width),\n      }\n    } else {\n      if (typeof height !== 'undefined') {\n        let calculatedDimensions = {\n          height,\n          width: texture.baseTexture.realWidth * (height / texture.baseTexture.realHeight),\n        };\n\n        if (typeof maxWidth !== 'undefined' && calculatedDimensions.width > maxWidth) {\n          calculatedDimensions.width = maxWidth;\n          calculatedDimensions.height = texture.baseTexture.realHeight * (maxWidth / texture.baseTexture.realWidth);\n        }\n\n        newState = calculatedDimensions;\n      }\n  \n      if (typeof width !== 'undefined') {\n        let calculatedDimensions = {\n          width,\n          height: texture.baseTexture.realHeight * (width / texture.baseTexture.realWidth),\n        }\n\n        if (typeof maxHeight !== 'undefined' && calculatedDimensions.height > maxHeight) {\n          calculatedDimensions.height = maxHeight;\n          calculatedDimensions.width = texture.baseTexture.realWidth * (maxHeight / texture.baseTexture.realHeight);\n        }\n\n        newState = calculatedDimensions;\n      }\n    }\n\n    this.setState({\n      ...newState,\n      visible: true,\n    });\n  }\n\n  render() {\n    const { texture } = this.props;\n\n    return (\n      <Sprite\n        {...this.props}\n        texture={texture}\n        height={this.state.height}\n        width={this.state.width}\n        visible={this.state.visible}\n      />\n    );\n  }\n}\n\nexport default AutoScaleSprite;\n"],"sourceRoot":""}